<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Survey Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src='https://code.jquery.com/jquery-3.3.1.min.js' integrity='sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8='
        crossorigin='anonymous'></script>
    <script src="main.js"></script>
</head>

<body>
    <h1>Survey Page</h1>
    <hr class="my-4">
    <h4>About You</h4>
    <form>
        <div class="form-group">
            <label for="formGroupExampleInput">Name (required)</label>
            <input type="text" class="form-control" id="userName" placeholder="Example input">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">Link to photo (required)</label>
            <input type="text" class="form-control" id="userPhoto" placeholder="Another input">
        </div>
        <h4>Survey</h4>
        <p>Answer based on how much you agree with the following statements (5 is strongly agree) </p>
        <div class="form-group">
            <h6>Question 1</h6>
            <label for="exampleFormControlSelect1">You love da bears</label>
            <select class="form-control" id="question1">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 2</h6>
            <label for="exampleFormControlSelect1">You love Seinfeld</label>
            <select class="form-control" id="question2">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 3</h6>
            <label for="exampleFormControlSelect1">You love The Office</label>
            <select class="form-control" id="question3">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 4</h6>
            <label for="exampleFormControlSelect1">You love coding</label>
            <select class="form-control" id="question4">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 5</h6>
            <label for="exampleFormControlSelect1">You love Mexican food</label>
            <select class="form-control" id="question5">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 6</h6>
            <label for="exampleFormControlSelect1">You love dogs</label>
            <select class="form-control" id="question6">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 7</h6>
            <label for="exampleFormControlSelect1">You love cats</label>
            <select class="form-control" id="question7">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 8</h6>
            <label for="exampleFormControlSelect1">You want to live on Mars</label>
            <select class="form-control" id="question8">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 9</h6>
            <label for="exampleFormControlSelect1">You love playing golf</label>
            <select class="form-control" id="question9">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <div class="form-group">
            <h6>Question 10</h6>
            <label for="exampleFormControlSelect1">You love staying out late</label>
            <select class="form-control" id="question10">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <br>
        <button type="submit" class="btn btn-primary" id="submitButton">Submit</button>
    </form>

    <a href="http://localhost:3000/api/friends">API Friends List</a>


    <!-- SCRIPT -->

    <script>
        $(document).ready(function () {
            $('#submitButton').on('click', function (event) {
                event.preventDefault();
                console.log("golf");
                // Gather user inputs
                var userInput = {
                    name: $('#userName').val().trim(),
                    photo: $('#userPhoto').val().trim(),
                    scores: [
                        $('#question1').val().trim(),
                        $('#question2').val().trim(),
                        $('#question3').val().trim(),
                        $('#question4').val().trim(),
                        $('#question5').val().trim(),
                        $('#question6').val().trim(),
                        $('#question7').val().trim(),
                        $('#question8').val().trim(),
                        $('#question9').val().trim(),
                        $('#question10').val().trim()
                    ]
                };

                // console.log('userInput = ' + JSON.stringify(userInput));
                // Add user inputs to friends list
                $.post('/api/friends', userInput)
                    .done(function (data) {


                        data = JSON.stringify(data);



                        alert("Your best match is " + JSON.stringify(data.matchName));
                    })



            });
        });
    </script>


</body>

</html>